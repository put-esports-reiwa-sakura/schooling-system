<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <meta name="format-detection" content="telephone=no">
    <title>令和さくら高等学院-スクーリング</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap">
    <link rel="stylesheet" type="text/css" href="mainstyle.css">
    <style>
        body {
		font-family: 'Roboto', sans-serif;
		color: #ffffff;
		margin: 0;
		padding: 0;
		font-size: 16px;
        }
        .page-size {
		padding: 0;
        }
        iframe {
		width: 100%;
		height: 120vh;
		border: none;
		background-color: #393939;
        }
		@media (max-width: 320px) {iframe{height: 90vh;}}
		@media (max-width: 375px) {iframe {height: 100vh;}}
		@media (max-width: 425px) {iframe {height: 1100vh;}}

        .button-size {
		border: 1px solid #ddd;
		border-radius: 20px;
		padding: 0 10px;
		text-align: center;
		align-items: center;
        }
        #back-to-menu-2 {background-color: #ea4335;}
	#page2 button,#menuButton2 {background-color: #fbbc05;}
	#page2 button:hover {background-color: #009b85;}
	#page1 button {background-color: #fbbc05;}
	#page1 button:hover {background-color: #009b85;}
    </style>
	<script>
		function adjustIframeHeight() {
			const iframe = document.querySelector("iframe");
			if (iframe) {
				if (iframe.dataset.content !== "event-main") {
					iframe.style.height = iframe.contentWindow.document.body.scrollHeight + "px";
				}
			}
		}
		function loadContent(content) {
			showPage(currentPage, content);
			const iframe = document.getElementById("content").querySelector("iframe");
			if (iframe) {
				iframe.dataset.content = content;
				iframe.src = `${content}.html`;
				iframe.onload = adjustIframeHeight;
			}
		}
	</script>
</head>
<body>
<div class="menu-copyright">&copy; 2023 reiwa-sakura, one person Aoyama programming team.</div>
<div class="page-size">
    <div class="menu-button">
        <div class="page-title">
            <h1>令和5年度スクーリングについて</h1>
            <p>10月31日(火)～11月3日(金)</p>
        </div>
	<div class="button-size">
	        <a onclick="location.href = 'index.html'"><button id="back-to-menu-2">戻る</button></a>
	        <button id="menuButton1">スクーリング詳細</button>
		<button id="menuButton2" style="background-color:#34a853;" onclick="loadContent('event-main')">全体行程</button>
        	<p id="menuDescription">それぞれのボタンを押してください。</p>
	</div>
    </div>
    <div class="page button-size" id="page1">
        <button onclick="loadContent('nimotu')">荷物</button>
        <button onclick="loadContent('schooling-setumei')">スクーリングとルール</button>
        <a onclick="location.href = 'nimotu-kakunin.html'"><button>各教科の必要な荷物</button></a>
    </div>
    <div class="page button-size" id="page2">
        <button onclick="loadContent('koutei-iki-train')">行き電車</button>
        <button onclick="loadContent('event-main')">1～4日目</button>
        <button onclick="loadContent('koutei-kaeri-train')">帰り電車</button>
    </div>
    <div class="page-content" id="content">
		<div class="schooling-setumei">
			<p style="text-align: center; margin:0em;">各ページにつながるボタンは上にあります。</p>
		</div>
	</div>
</div>
<script>
    function createIframe(content) {
        const contentContainer = document.getElementById("content");
        const iframe = document.createElement("iframe");
        iframe.src = `${content}.html`;
        iframe.onload = function () {
            adjustIframeHeight(iframe);
        };
        const existingIframe = contentContainer.querySelector("iframe");
        if (existingIframe) {
            contentContainer.removeChild(existingIframe);
        }
        contentContainer.appendChild(iframe);
    }
</script>
<script>
    let currentPage = "";
    let currentContent = "";
    window.addEventListener("load", function () {
        handleHashChange();
        hidePages();
    });
    function showPage(pageId, contentId) {
        const pages = document.querySelectorAll(".page");
        pages.forEach(page => {
            if (page.id === pageId) {
                page.style.display = "block";
            } else {
                page.style.display = "none";
            }
        });
        document.getElementById("menuDescription").style.display = "none";
        currentPage = pageId;
        currentContent = contentId;
        if (contentId) {
            window.location.hash = `#${pageId}/${contentId}`;
        } else {
            window.location.hash = `#${pageId}`;
        }
    }
document.getElementById("menuButton1").addEventListener("click", function (event) {
    showPage("page1", "");
	window.scrollTo(0, -100);
});

document.getElementById("menuButton2").addEventListener("click", function (event) {
    showPage("page2", "");
	window.scrollTo(0, -100);
});
    function loadContent(content) {
        showPage(currentPage, content);
        const contentContainer = document.getElementById("content");
        const schoolingSetumei = contentContainer.querySelector(".schooling-setumei");
        if (schoolingSetumei) {
            schoolingSetumei.style.display = "none";
        }
        const iframe = document.createElement("iframe");
        iframe.src = `${content}.html`;
        iframe.onload = adjustIframeHeight;
        const existingIframe = contentContainer.querySelector("iframe");
        if (existingIframe) {
            contentContainer.removeChild(existingIframe);
        }
        contentContainer.appendChild(iframe);
    }
    window.addEventListener("hashchange", function () {
        handleHashChange();
    });
    function handleHashChange() {
        const hash = window.location.hash.substr(1);
        const parts = hash.split("/");
        const page = parts[0];
        const content = parts[1];

        if (page === "page1" && content) {
            showPage(page, content);
        } else if (page === "page2" && content) {
            showPage(page, content);
        } else if (page === "page1" || page === "page2") {
            showPage(page, "");
        }
    }
    function hidePages() {
        const pages = document.querySelectorAll(".page");
        pages.forEach(page => {
            page.style.display = "none";
        });
    }
window.onload = function() {
    window.scrollTo(0, 0);
};
</script>
<script>
	window.addEventListener('message', function(event) {
		if (event.data === 'setHeightTo40em') {
			const iframe = document.querySelector('iframe');
			iframe.style.height = '40em';
		}
	});
</script>
</body>
</html>
